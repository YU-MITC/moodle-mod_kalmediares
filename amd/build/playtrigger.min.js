define ("mod_kalmediares/playtrigger",["jquery"],function(a){return{init:function init(b,c){var m,n=!1;function d(){var a,b=navigator.userAgent;if(b.match(/iPhone|iPad|iPod/)){a="iOS"}else if(b.match(/Android|android/)){a="Android"}else if(b.match(/Linux|linux/)){a="Linux"}else if(b.match(/Win(dows)/)){a="Windows"}else if(b.match(/Mac|PPC/)){a="Mac OS"}else if(b.match(/CrOS/)){a="Chrome OS"}else{a="Other"}return a}function e(){var d=new FormData,e;d.append("id",c);b=b+"?id="+c;a.ajax(b,{type:"POST",data:d,cache:!1,contentType:!1,scriptCharset:"utf-8",processData:!1,async:!0,dataType:"xml"}).done(function(a){if(null===a){e=!1}e=!0}).fail(function(a){window.console.dir(a);e=!1});return e}function f(){m.off("play","**");if(!1===n){n=!0;e()}}function g(){m.off("playing","**");if(!1===n){n=!0;e()}}function h(){m.off("timeupdate","**");if(!1===n){n=!0;e()}}function i(){m.off("seeked","**");if(!1===n){n=!0;e()}}function j(){m.off("pause","**");if(!1===n){n=!0;e()}}function k(){m.off("ended","**");if(!1===n){n=!0;e()}}function l(){m.off("ratechange","**");if(!1===n){n=!0;e()}}if(null!==b&&""!==b){var o=!1,p=d();if("iOS"==p||"Android"==p||"Chrome OS"==p){o=!0}a(window).on("load",function(){m=a("video");if(null!==m&&1<=m.length){m.on("play",function(){f()});m.on("playing",function(){g()});if(!0==o){m.on("timeupdate",function(){h()});m.on("seeked",function(){i()});m.on("pause",function(){j()});m.on("ended",function(){k()});m.on("ratechange",function(){l()})}}});a("iframe").on("load",function(){m=a("iframe").eq(0).contents().find("video");if(null!==m&&1<=m.length){m.on("play",function(){f()});m.on("playing",function(){g()});if(!0==o){m.on("timeupdate",function(){h()});m.on("seeked",function(){i()});m.on("pause",function(){j()});m.on("ended",function(){k()});m.on("ratechange",function(){l()})}}})}}}});
//# sourceMappingURL=playtrigger.min.js.map
